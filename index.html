<!DOCTYPE html>

<html> 
 <head>
    <title>Jeopardy</title> 
	 <style> 
	body{
	background-color: white;
		 }
		 p{
text-align: center;		 
}
	audio{
		 visibilty: hidden;
		display: none;
		 }	 
	 </style>
</head>
 <body>
    <p> 
      <canvas id="mycanvas"></canvas> 
    </p>
<audio id="intro">
  <source src="intro.mp3" type="audio/mpeg">
  Your browser does not support audio
</audio>
<audio id="jeoTheme">
  <source src="Jeopardy Theme.mp3" type="audio/mpeg">
  Your browser does not support audio
</audio>
<audio id="dailyD">
  <source src="Daily Double.mp3" type="audio/mpeg">
  Your browser does not support audio
</audio>
 </body>

 <script src="https://cdn.jsdelivr.net/processing.js/1.4.8/processing.min.js"></script> 
 
 <script>
    var sketchProc = function(processingInstance) {
     with (processingInstance) {
        size(800, 800); 
        frameRate(60);

//Thank you so much Larry Serflaten for helping me squash all of the bugs!!
	     
var jeoTheme = document.getElementById("jeoTheme");   
var intro = document.getElementById("intro");   
var dailyD = document.getElementById("dailyD");   
	     
var guests = [];
var jeoCards = [];

var timer = 0;
var timerClicked = 0;

var timer2 = 0;
var timerClicked2 = 0;

var jeopardy = function(row, column){

this.row = row;
this.column = column;
this.points = this.row*200;
this.clicked = false;
this.scene = "home";
this.question = [

    	["What does the tribe\nput in the gloves?",
    	"What material are the\ngloves made out of?",
	"",
	"",
	""
	],
	
	["What is the name\nof the tribe?",
	"What language do\nmost of the women\nof the tribe\ntypically only speak?",
	"What languages do the\nmen of the tribe\ntypically speak?",
	"What food do the\npeople of the tribe eat?",
	"What does the tribe's\nname mean?"
	],
	
	["How old must the\nboy be to start\nthe ceremony?",
	"How long is the\ninitiation?",
	"How many times must\nthe ceremony be\nperformed in ones life?",
	"How painful is the\nsting compared to\na bee sting?",
	"How long does it take \nfor the toxins\nto dissipate?"
	],
	
	["In which county is\nthe tribe located?",
	"In which continent is\nthe tribe located?",
	"The tribe has always\nhad a lot of contact\nwith the outside\nworld. (True/False)",
	"What is (approx.) the\ncurrent population\nof the tribe?",
	"What is the closest\nriver to the tribe?"
	],
	
	["",
	"",
	"",
	"",
	"",
	],
	
	["",
	"",
	"",
	"",
	"",
	]
];	
this.answer = [
	["Bullet Ants",
	"Palm leaves",
	"",
	"",
	""
	],
	
	["Sateré-Mawé",
	"Sateré-Mawé",
	"Sateré Mawé and Portugese",
	"Fruit, nuts and\nfruit preserves",
	"Sateré: \"Burning Catepillar\"\nMawé: \"Intelligent and curious parrot\""
	],
	
	["13 years old",
	"About 10 minutes",
	"20 times over several\nmonths or years",
	"30 times more painful\nthan a bee sting",
	"About 24 hours, hence the\nname, the 24 hout ant",
	],
	
	["Brazil",
	"South America",
	"False",
	"Around 13,000",
	"Amazon River"
	],
	
	["",
	"",
	"",
	"",
	"",
	],
	
	["",
	"",
	"",
	"",
	"",
	]
];
this.answerHide = true;
this.answerW = width+width;
this.pointsValue = 0;
this.textC = color(255, 204, 0);
this.textC2 = color(0);
this.textW = width/2;
this.textW2 = width/2;
this.ddx = -130;
};
jeopardy.prototype.click = function(){
if(mouseX >= (this.column/6)*width && mouseX <= (this.column/6)*width+width/6 && mouseY >= (this.row/7)*height && mouseY <= (this.row/7)*height+height/7 && this.scene === "home" && timer2 >= 1){
timerClicked2 = 0;
timer2 = 0;
this.clicked = true;
this.scene = [this.column][this.row]; 
jeoTheme.play();
}

if(this.clicked === true){
this.textC = color(6,12,233);
this.textC2 = color(6,12,233);
}
};
jeopardy.prototype.sceneChange = function(){
if(this.scene === [this.column][this.row]){
background(6, 12, 233);
	
textAlign(CENTER, CENTER);
if(this.column === 1 && this.row === 5){
this.ddx += 0.7;
fill(0, 0, 0);
textFont(createFont("impact"), 130);
text("DAILY DOUBLE!", this.ddx+10, height-height/3);
fill(255, 255, 255);
text("DAILY DOUBLE!", this.ddx, height-height/3);
    this.pointsValue = this.points*2;
if(this.ddx <= width){
dailyD.play();
} else {
dailyD.pause();
}
} else {
    stroke(0, 0, 0);
    this.pointsValue = this.points;
}
	
textFont(createFont("impact"), 60);
fill(0, 0, 0);
text(Math.round(32-jeoTheme.currentTime), this.answerW2+4, height/2);
fill(255, 255, 255);
text(Math.round(32-jeoTheme.currentTime), this.answerW2, height/2);
textFont(createFont("times new roman"), 60);
fill(0, 0, 0);
text((this.question[this.column][this.row-1]).toUpperCase(), width/2+4, height/4);
fill(255, 255, 255);
text((this.question[this.column][this.row-1]).toUpperCase(), width/2, height/4);

textFont(createFont("times new roman"), 50);
fill(0, 0, 0);
text(this.answer[this.column][this.row-1], this.answerW+3, height/2);
fill(255, 204, 0);
text(this.answer[this.column][this.row-1], this.answerW, height/2);
}
};
jeopardy.prototype.revealAnswer = function(){
if(timerClicked === 0){
    timer = 0;
}
if(timerClicked >= 1){
    timer += 0.016;
}
if(jeoTheme.currentTime >= 32){
    this.answerHide = false;
    jeoTheme.currentTime = 32;
    jeoTheme.pause();
}
if(this.answerHide === true){
    this.answerW = width+width;
    this.answerW2 = width/2;
}
if(this.answerHide === false){
    this.answerW = width/2;
    this.answerW2 = width+width;
    timerClicked2 = 0;
    timer2 = 0;
}

};
jeopardy.prototype.backToHome = function(){
if(this.scene !== "home" && this.answerHide === false && mouseX >= 0 && mouseX <= width && mouseY >= 0 && mouseY <= height-height/7){
    timerClicked2 = 1; 
    this.scene = "home";
    this.pointsValue = 0;
    timerClicked = 0;
    timer = 0;
    jeoTheme.currentTime = 0;
}
};
jeopardy.prototype.display = function(){
if(this.scene === "home"){
    this.pointsValue = 0;
}
//rectangles
 fill(6, 12, 233);
    stroke(0, 0, 0);
    strokeWeight(4);
    rect((this.column/6)*width, (this.row/7)*height, width/6, height/7);
//text
    textAlign(CENTER, CENTER);
    textFont(createFont("impact"), 50);
    fill(this.textC2);
    text("$" + this.points, ((this.column/6)*width)+width/6/2+5, ((this.row/7)*height)+height/7/2);
    fill(this.textC);
    text("$" + this.points, ((this.column/6)*width)+width/6/2, ((this.row/7)*height)+height/7/2);
};


var category = function(column, category, size){
this.column = column-1;
this.category = category;
this.size = size;
};
category.prototype.display = function() {
//rectangle background
fill(6, 12, 233);
stroke(0, 0, 0);
strokeWeight(4);
rect((this.column/6)*width, 0, width/6, height/7);

//Displays the category
textAlign(CENTER, CENTER);
textFont(createFont("impact"), this.size);
fill(255, 255, 255);
text(this.category, ((this.column/6)*width)+width/6/2, (height/7)/2);
};

var guest = function(guest, handicap, size){
this.guest = guest;
this.column = guest-1;
this.points = handicap;
};

guest.prototype.add = function(points){
if (mouseX >= ((this.column/6)*width)+width/9 && mouseX <= ((this.column/6)*width)+width/9+30  && mouseY >= (height-height/7)+(height/7/1.5) && mouseY <= (height-height/7)+(height/7/1.5)+30) {
   this.points += points;
}
};
guest.prototype.sub = function(points){
if (mouseX >= ((this.column/6)*width)+width/9/6 && mouseX <= ((this.column/6)*width)+width/9/6+30 && mouseY >= (height-height/7)+(height/7/1.5) && mouseY <= (height-height/7)+(height/7/1.5)+30) {
    this.points -= points;
}
};
guest.prototype.display = function(){
//rectangle background
fill(6,12,233);
stroke(0, 0, 0);
strokeWeight(4);
rect((this.column/6)*width, height-height/7, width/6, height/7);

textAlign(CENTER, CENTER);
textFont(createFont("impact"), 30);

//Displays "Guest"
fill(0, 0, 0);
text("GUEST " + this.guest, ((this.column/6)*width)+width/6/2+3, (height-height/7)+(height/7)/5);

//Displays Points
text("$" + this.points, ((this.column/6)*width)+width/6/2+3, (height-height/7)+(height/7)/1.9);

fill(255, 255, 255);
text("GUEST " + this.guest, ((this.column/6)*width)+width/6/2, (height-height/7)+(height/7)/5);

//Displays Points
text("$" + this.points, ((this.column/6)*width)+width/6/2, (height-height/7)+(height/7)/1.9);

//Correct and Incorrect Boxes

fill(0, 128, 0);
rect(((this.column/6)*width)+width/9, (height-height/7)+(height/7/1.5), 30 , 30);
fill(166, 50, 50);
rect(((this.column/6)*width)+width/9/6, (height-height/7)+(height/7/1.5), 30 , 30); 

// + / - signs

textFont(createFont("impact"), 40);
fill(0, 0, 0);
text("+", ((this.column/6)*width)+width/9/0.85, (height-height/7)+(height/7/1.5)*1.2);

text("-", ((this.column/6)*width)+width/9/3, (height-height/7)+(height/7/1.5)*1.15); 
};

textFont(createFont("impact"), 150);
textAlign(CENTER, CENTER);

var scene = 0;   
var jeoY= height-height-(textAscent());
var startStroke = color(255);


//Categories {
var category1 = new category(1, "COMING \nOF AGE", 30);
var category2 = new category(2, "CULTURE", 30);
var category3 = new category(3, "STATISTICS", 25);
var category4 = new category(4, "GEOGRAPHY", 25);
var category5 = new category(5, "", 25);
var category6 = new category(6, "", 25);
//}
//Guests {

for (var i = 1; i < 7; i++) {
    guests.push(new guest(i, 0));
}  
//}
//jeoCards {

for (var i = 1; i < 6; i++) {
    for (var j = 0; j < 7; j++){ 
    jeoCards.push(new jeopardy(i, j));
    }
}   
//}

var clickt = 0;
var timer1 = 0;

draw = function() {
if(clickt === 0){
    timer1 = 0;
}
if(clickt === 1){
    timer1 += 1;
}
if(timerClicked2 === 0){
    timer2 = 0;
}
if(timerClicked2 >= 1){
    timer2 += 1;
}
if(scene === 0){
   intro.play();	  	
background(6,12,233);
textAlign(CENTER, CENTER);
if(jeoY <= height/3){
    jeoY+=1.5;
} else {
    textFont(createFont("impact"), 60);
    noFill();
    strokeWeight(15);
    stroke(0, 0, 0);
    rect(width/2-250/2+7, height/1.5-100/2, 250, 100);
    stroke(startStroke);
    rect(width/2-250/2, height/1.5-100/2, 250, 100);
    fill(0, 0, 0);
    text("START!", width/2+5, height/1.5);
    fill(startStroke);
    text("START!", width/2, height/1.5);
    if(mouseX >= width/2-250/2 && mouseX <= width/2-250/2+250 && mouseY >= height/1.5-100/2 && mouseY <= height/1.5-100/2+100){
    startStroke = color(200);
} else {
    startStroke = color(255);
}
}
    textFont(createFont("impact"), 185);
    fill(0, 0, 0);
    text("JEOPARDY!", width/2+8, jeoY);
    fill(128, 128, 128);
    text("JEOPARDY!", width/2+3, jeoY);
    fill(255, 255, 255);
    text("JEOPARDY!", width/2, jeoY);
}
if(scene === 1){
intro.pause();	   
    background(6,12,233);
//categories {
    category1.display();
    category2.display();
    category3.display();
    category4.display();
    category5.display();
    category6.display();
//}

   for (var i = 0; i < jeoCards.length; i++) {
        jeoCards[i].display();
}

    for (var i = 0; i < jeoCards.length; i++) {
    for (var j = 0; j < guests.length; j++) {
    if(jeoCards[i].scene !== "home"){
        jeoCards[i].sceneChange();
        jeoCards[i].revealAnswer();
}
 guests[j].display();
    }
}
}
if(timerClicked > 210){
    timerClicked = 210;
}
};



mouseClicked = function(){
if(scene === 0 && jeoY >= height/3 && mouseX >= width/2-250/2 && mouseX <= width/2-250/2+250 && mouseY >= height/1.5-100/2 && mouseY <= height/1.5-100/2+100){
    scene += 1;
    clickt+= 1;
    timerClicked2 = 1;
}
if(scene === 1){
    for (var j = 0; j < guests.length; j++) {
    for (var i= 0; i < jeoCards.length; i++) {
guests[j].add(jeoCards[i].pointsValue);
guests[j].sub(jeoCards[i].pointsValue);

if(timer1 >= 1){
jeoCards[i].click();
timerClicked += 1;
}

jeoCards[i].backToHome();

}
}
}
};




    }};

    var canvas = document.getElementById("mycanvas"); 

    var processingInstance = new Processing(canvas, sketchProc); 
 </script>

</html>
